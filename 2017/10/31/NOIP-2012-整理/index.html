<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <title>NOIP 2012 整理 | ZJYelizaveta&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Day 1Vigenère 密码描述16 世纪法国外交家 Blaise de Vigenère 设计了一种多表密码加密算法 —— Vigenère 密码。Vigenère 密码的加密解密算法简单易用，且破译难度比较高，曾在美国南北战争中为南军所广泛使用。在密码学中，我们称需要加密的信息为明文，用 $M$ 表示；称加密后的信息为密文，用$C$ 表示；而密钥是一种参数，是将明文转换为密文或将密文转换为">
<meta name="keywords" content="数学,贪心,模拟,二分,差分,倍增,高精度,STL,gcd及exgcd">
<meta property="og:type" content="article">
<meta property="og:title" content="NOIP 2012 整理">
<meta property="og:url" content="http://yoursite.com/2017/10/31/NOIP-2012-整理/index.html">
<meta property="og:site_name" content="ZJYelizaveta&#39;s Blog">
<meta property="og:description" content="Day 1Vigenère 密码描述16 世纪法国外交家 Blaise de Vigenère 设计了一种多表密码加密算法 —— Vigenère 密码。Vigenère 密码的加密解密算法简单易用，且破译难度比较高，曾在美国南北战争中为南军所广泛使用。在密码学中，我们称需要加密的信息为明文，用 $M$ 表示；称加密后的信息为密文，用$C$ 表示；而密钥是一种参数，是将明文转换为密文或将密文转换为">
<meta property="og:image" content="http://oqeu5dc5m.bkt.clouddn.com/NOIP%202012.png">
<meta property="og:image" content="http://oqeu5dc5m.bkt.clouddn.com/NOIP%202015%E2%80%982.png">
<meta property="og:image" content="http://oqeu5dc5m.bkt.clouddn.com/NOIP%202015%27s.png">
<meta property="og:updated_time" content="2017-11-02T08:09:31.399Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="NOIP 2012 整理">
<meta name="twitter:description" content="Day 1Vigenère 密码描述16 世纪法国外交家 Blaise de Vigenère 设计了一种多表密码加密算法 —— Vigenère 密码。Vigenère 密码的加密解密算法简单易用，且破译难度比较高，曾在美国南北战争中为南军所广泛使用。在密码学中，我们称需要加密的信息为明文，用 $M$ 表示；称加密后的信息为密文，用$C$ 表示；而密钥是一种参数，是将明文转换为密文或将密文转换为">
<meta name="twitter:image" content="http://oqeu5dc5m.bkt.clouddn.com/NOIP%202012.png">
    

    
        <link rel="alternate" href="/" title="ZJYelizaveta&#39;s Blog" type="application/atom+xml" />
    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">ZJYelizaveta&#39;s Blog</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">Home</a>
                
                    <a class="main-nav-link" href="/archives">Archives</a>
                
                    <a class="main-nav-link" href="/categories">Categories</a>
                
                    <a class="main-nav-link" href="/about">About</a>
                
                    <a class="main-nav-link" href="/Links">Links</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/avatar.png" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/categories">Categories</a></td>
                
                    <td><a class="main-nav-link" href="/about">About</a></td>
                
                    <td><a class="main-nav-link" href="/Links">Links</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/avatar.png" />
            <h2 id="name">ZJYelizaveta</h2>
            <h3 id="title">有幸在那一天，遇到你，最了不起的你。</h3>
            <span id="location"><i class="fa fa-map-marker"></i>Wuhan, China</span>
            <a id="follow" target="_blank" href="">FOLLOW</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                81
                <span>posts</span>
            </div>
            <div class="article-info-block">
                106
                <span>tags</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="https://github.com/ZJYelizaveta" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="twitter" class=tooltip>
                            <i class="fa fa-twitter"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="facebook" class=tooltip>
                            <i class="fa fa-facebook"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="dribbble" class=tooltip>
                            <i class="fa fa-dribbble"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="rss" class=tooltip>
                            <i class="fa fa-rss"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main"><article id="post-NOIP-2012-整理" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            NOIP 2012 整理
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2017/10/31/NOIP-2012-整理/">
            <time datetime="2017-10-30T23:21:36.000Z" itemprop="datePublished">2017-10-31</time>
        </a>
    </div>


                        
                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/STL/">STL</a>, <a class="tag-link" href="/tags/gcd及exgcd/">gcd及exgcd</a>, <a class="tag-link" href="/tags/二分/">二分</a>, <a class="tag-link" href="/tags/倍增/">倍增</a>, <a class="tag-link" href="/tags/差分/">差分</a>, <a class="tag-link" href="/tags/数学/">数学</a>, <a class="tag-link" href="/tags/模拟/">模拟</a>, <a class="tag-link" href="/tags/贪心/">贪心</a>, <a class="tag-link" href="/tags/高精度/">高精度</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h1 id="Day-1"><a href="#Day-1" class="headerlink" title="Day 1"></a>Day 1</h1><h2 id="Vigenere-密码"><a href="#Vigenere-密码" class="headerlink" title="Vigenère 密码"></a>Vigenère 密码</h2><h3 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h3><p>16 世纪法国外交家 Blaise de Vigenère 设计了一种多表密码加密算法 —— Vigenère 密<br>码。Vigenère 密码的加密解密算法简单易用，且破译难度比较高，曾在美国南北战争中为南军所广泛使用。<br>在密码学中，我们称需要加密的信息为明文，用 $M$ 表示；称加密后的信息为密文，用<br>$C$ 表示；而密钥是一种参数，是将明文转换为密文或将密文转换为明文的算法中输入的数据，记为 $k$。 在 Vigenère</p>
<a id="more"></a>
<p>密码中，密钥 $k$ 是一个字母串，$k=k_{1} k_{2}  \cdots k_{n}$ 。当明文 $M=m_{1}m_{2} \cdots m_{n}$ 时，得到的密文 $C=c_{1} c_{2} \cdots c_{n}$ ，其中 $c_{i} =m_{i} ®k_{i}$ 运算 ® 的规则如，下表所示：</p>
<p><img src="http://oqeu5dc5m.bkt.clouddn.com/NOIP%202012.png" alt=""></p>
<p>Vigenère 加密在操作时需要注意：</p>
<ol>
<li>® 运算忽略参与运算的字母的大小写，并保持字母在明文 $M$ 中的大小写形式。</li>
<li>当明文 $M$ 的长度大于密钥 $k$ 的长度时，将密钥 $k$ 重复使用。</li>
</ol>
<p>输入的密匙长度不超过 $100$，输入的密文的长度不超过 $1000$，且都仅包含英文字母。</p>
<h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p>当我看到这个图的时候，我的内心是拒绝的，然后我很认真的找了一下规律。</p>
<p>我们令横坐标表示明文，纵坐标为密钥。</p>
<p>那么</p>
<script type="math/tex; mode=display">
m_{i}=\left\{\begin{matrix}
c_{i} -k_{i} & (c_{i} - k_{i} \geq 0)\\
c_{i} - k_{i} + 26 & (c_{i} - k_{i} < 0)
\end{matrix}\right.</script><p>然后根据 ACSII 表的特点，在 $\Theta(n)$ 的时间内模拟一遍，注意判断一下大小写。</p>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//  Created by ZJYelizaveta on Friday, October 20, 2017 PM03:31:14 CST</span></div><div class="line"><span class="comment">//  Copyright (c) 2017年 ZJYelizaveta. All rights reserved.</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</div><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="function">T <span class="title">readIn</span><span class="params">()</span> </span>&#123;</div><div class="line">    T x(0), f(1);</div><div class="line">    <span class="keyword">char</span> ch = getchar();</div><div class="line">    <span class="keyword">while</span> (ch &lt; <span class="string">'0'</span> || ch &gt; <span class="string">'9'</span>) &#123;<span class="keyword">if</span> (ch == <span class="string">'-'</span>) f = <span class="number">-1</span>; ch = getchar();&#125;</div><div class="line">    <span class="keyword">while</span> (ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>) &#123;x = x * <span class="number">10</span> + ch - <span class="string">'0'</span>; ch = getchar();&#125;</div><div class="line">    <span class="keyword">return</span> x * f;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">100</span> + <span class="number">3</span>; <span class="comment">// key</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_M = <span class="number">1000</span> + <span class="number">3</span>; <span class="comment">// secret string</span></div><div class="line"><span class="keyword">char</span> str1[MAX_N], str2[MAX_M];</div><div class="line"><span class="keyword">int</span> len1, len2;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line"></div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, str1); <span class="built_in">scanf</span>(<span class="string">"%s"</span>, str2);</div><div class="line">    len1 = <span class="built_in">strlen</span>(str1), len2 = <span class="built_in">strlen</span>(str2);</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len1; ++i) str1[i] = <span class="built_in">toupper</span>(str1[i]);</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len2; ++i) &#123;</div><div class="line">        <span class="keyword">int</span> num = (<span class="built_in">toupper</span>(str2[i]) - str1[i % len1] + <span class="number">26</span>) % <span class="number">26</span>;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (<span class="built_in">isupper</span>(str2[i])) <span class="built_in">putchar</span>(<span class="string">'A'</span> + num);</div><div class="line">        <span class="keyword">else</span> <span class="built_in">putchar</span>(<span class="string">'a'</span> + num);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="国王游戏"><a href="#国王游戏" class="headerlink" title="国王游戏"></a>国王游戏</h2><h3 id="描述-1"><a href="#描述-1" class="headerlink" title="描述"></a>描述</h3><p>恰逢 H 国国庆，国王邀请 $n​$ 位大臣来玩一个有奖游戏。首先，他让每个大臣在左、右手上面分别写下一个整数，国王自己也在左、右手上各写一个整数。然后，让这 $n​$ 位大臣排成一排，国王站在队伍的最前面。排好队后，所有的大臣都会获得国王奖赏的若干金币，每位大臣获得的金币数分别是：排在该大臣前面的所有人的左手上的数的乘积除以他自己右手上的数，然后向下取整得到的结果。<br>国王不希望某一个大臣获得特别多的奖赏，所以他想请你帮他重新安排一下队伍的顺序，使得获得奖赏最多的大臣，所获奖赏尽可能的少。注意，国王的位置始终在队伍的最前面。</p>
<p>$1 \leq n \leq 1000, 1 \leq a, b \leq 10000$</p>
<h3 id="分析-1"><a href="#分析-1" class="headerlink" title="分析"></a>分析</h3><p>想不到正解，然后贪心拿了 60 分。</p>
<p>有两个人 $i, j$ ， $i$ 在 $j$ 前面更优一些，当且仅当 $sum \times \frac{q[i].a}{q[j].b} &lt; sum \times \frac{q[j].a}{q[i].b}$ ，即 $ \frac{q[i].a}{q[j].b} &lt; \frac{q[j].a}{q[i].b}$，以这样的方式排序，我们可以拿到 60 分。</p>
<p>那么剩下的 40 分为什么拿不到呢qwq，因为 $a, b \leq 10^{4}$，而最极端的情况下会有 $1000$ 个 $10^{4}$ 相乘，这种情况下肯定是要用高精度来解决的。</p>
<p>那么代码剩下的部分就是在于手写高精度啦，就当 NOIP 之前复习一下高精度啦，写的差点吐了。</p>
<h3 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h3><p>$60 \%$ 骗分大法好qwq</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//  Created by ZJYelizaveta on Friday, October 20, 2017 PM03:52:49 CST</span></div><div class="line"><span class="comment">//  Copyright (c) 2017年 ZJYelizaveta. All rights reserved.</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</div><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="function">T <span class="title">readIn</span><span class="params">()</span> </span>&#123;</div><div class="line">    T x(0), f(1);</div><div class="line">    <span class="keyword">char</span> ch = getchar();</div><div class="line">    <span class="keyword">while</span> (ch &lt; <span class="string">'0'</span> || ch &gt; <span class="string">'9'</span>) &#123;<span class="keyword">if</span> (ch == <span class="string">'-'</span>) f = <span class="number">-1</span>; ch = getchar();&#125;</div><div class="line">    <span class="keyword">while</span> (ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>) &#123;x = x * <span class="number">10</span> + ch - <span class="string">'0'</span>; ch = getchar();&#125;</div><div class="line">    <span class="keyword">return</span> x * f;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">1000</span> + <span class="number">3</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">int</span> n;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> &#123;</span></div><div class="line">    <span class="keyword">int</span> a, b;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> Person &amp;rhs) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="keyword">return</span> a / rhs.b &lt; rhs.a / b;</div><div class="line">    &#125;</div><div class="line">&#125;q[MAX_N];</div><div class="line"><span class="keyword">int</span> ans[MAX_N], res;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    n = readIn&lt;<span class="keyword">int</span>&gt;();</div><div class="line">    q[<span class="number">0</span>].a = readIn&lt;<span class="keyword">int</span>&gt;(), q[<span class="number">0</span>].b = readIn&lt;<span class="keyword">int</span>&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) q[i].a = readIn&lt;<span class="keyword">int</span>&gt;(), q[i].b = readIn&lt;<span class="keyword">int</span>&gt;();</div><div class="line">    sort(q + <span class="number">1</span>, q + n + <span class="number">1</span>);</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</div><div class="line">        ans[i] = <span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; ++j) ans[i] *= q[j].a;</div><div class="line">        ans[i] /= q[i].b;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    res = -INF;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) res = max(res, ans[i]);</div><div class="line"></div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, res);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>$100 \%$</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//  Created by ZJYelizaveta on Thursday, October 26, 2017 AM08:45:14 CST</span></div><div class="line"><span class="comment">//  Copyright (c) 2017年 ZJYelizaveta. All rights reserved.</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</div><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="function">T <span class="title">readIn</span><span class="params">()</span> </span>&#123;</div><div class="line">    T x(0), f(1);</div><div class="line">    <span class="keyword">char</span> ch = getchar();</div><div class="line">    <span class="keyword">while</span> (ch &lt; <span class="string">'0'</span> || ch &gt; <span class="string">'9'</span>) &#123;<span class="keyword">if</span> (ch == <span class="string">'-'</span>) f = <span class="number">-1</span>; ch = getchar();&#125;</div><div class="line">    <span class="keyword">while</span> (ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>) &#123;x = x * <span class="number">10</span> + ch - <span class="string">'0'</span>; ch = getchar();&#125;</div><div class="line">    <span class="keyword">return</span> x * f;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">1000</span> + <span class="number">3</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">int</span> n;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> &#123;</span></div><div class="line">    <span class="keyword">int</span> a, b;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> Person &amp;rhs) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="keyword">return</span> a * b &lt; rhs.a * rhs.b;</div><div class="line">    &#125;</div><div class="line">&#125;q[MAX_N];</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">BigInt</span> &#123;</span></div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> BASE = <span class="number">10</span>;</div><div class="line"></div><div class="line">    BigInt(ll x) &#123;</div><div class="line">        <span class="keyword">do</span> &#123;</div><div class="line">            v.push_back(x % <span class="number">10</span>);</div><div class="line">        &#125; <span class="keyword">while</span> (x /= <span class="number">10</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    BigInt(<span class="keyword">const</span> <span class="built_in">string</span> &amp;str) &#123;</div><div class="line">        v.reserve(str.length());</div><div class="line"></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = str.length() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</div><div class="line">            v.push_back(str[i] - <span class="string">'0'</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    BigInt() &#123;&#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">removePreZero</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">while</span> (v.size() &gt;= <span class="number">1</span> &amp;&amp; v.back() == <span class="number">0</span>) v.pop_back();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> BigInt &amp;a) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="keyword">if</span> (v.size() != a.v.size()) &#123;</div><div class="line">            <span class="keyword">return</span> v.size() &lt; a.v.size();</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = v.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</div><div class="line">            <span class="keyword">if</span> (v[i] != a.v[i]) &#123;</div><div class="line">                <span class="keyword">return</span> v[i] &lt; a.v[i];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">//  equal</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&gt;(<span class="keyword">const</span> BigInt &amp;a) <span class="keyword">const</span> &#123; <span class="keyword">return</span> a &lt; *<span class="keyword">this</span>; &#125;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;=(<span class="keyword">const</span> BigInt &amp;a) <span class="keyword">const</span> &#123; <span class="keyword">return</span> !(a &lt; *<span class="keyword">this</span>); &#125;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&gt;=(<span class="keyword">const</span> BigInt &amp;a) <span class="keyword">const</span> &#123; <span class="keyword">return</span> !(a &gt; *<span class="keyword">this</span>); &#125;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>!=(<span class="keyword">const</span> BigInt &amp;a) <span class="keyword">const</span> &#123; <span class="keyword">return</span> a &lt; *<span class="keyword">this</span> || a &gt; *<span class="keyword">this</span>; &#125;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> BigInt &amp;a) <span class="keyword">const</span> &#123; <span class="keyword">return</span> !(a &lt; *<span class="keyword">this</span>) &amp;&amp; !(a &gt; *<span class="keyword">this</span>); &#125;</div><div class="line"></div><div class="line">    BigInt <span class="keyword">operator</span>+(<span class="keyword">const</span> BigInt &amp;a) <span class="keyword">const</span> &#123;</div><div class="line">        BigInt res;</div><div class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</div><div class="line"></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; max(v.size(), a.v.size()); ++i) &#123;</div><div class="line">            <span class="keyword">if</span> (i &lt; a.v.size()) sum += a.v[i];</div><div class="line">            <span class="keyword">if</span> (i &lt; v.size()) sum += v[i];</div><div class="line"></div><div class="line">            res.v.push_back(sum % BASE);</div><div class="line">            sum /= BASE;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (sum) res.v.push_back(sum);</div><div class="line">        res.removePreZero();</div><div class="line"></div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    BigInt <span class="keyword">operator</span>-(<span class="keyword">const</span> BigInt &amp;a) <span class="keyword">const</span> &#123;</div><div class="line">        BigInt res;</div><div class="line">        <span class="keyword">int</span> dif = <span class="number">0</span>;</div><div class="line"></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; max(v.size(), a.v.size()); ++i) &#123;</div><div class="line">            <span class="keyword">if</span> (i &lt; v.size()) dif += v[i];</div><div class="line">            <span class="keyword">if</span> (i &lt; a.v.size()) dif -= a.v[i];</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (dif &gt;= <span class="number">0</span>) &#123;</div><div class="line">                res.v.push_back(dif);</div><div class="line">                dif = <span class="number">0</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span> &#123;</div><div class="line">                res.v.push_back((dif + BASE) % BASE);</div><div class="line">                dif = <span class="number">-1</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        res.removePreZero();</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    BigInt <span class="keyword">operator</span>*(<span class="keyword">const</span> BigInt &amp;a) <span class="keyword">const</span> &#123;</div><div class="line">        BigInt res;</div><div class="line"></div><div class="line">        res.v.resize(v.size() + a.v.size(), <span class="number">0</span>); <span class="comment">//</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; v.size(); ++i) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; a.v.size(); ++j) &#123;</div><div class="line">                res.v[i + j] += v[i] * a.v[j];</div><div class="line">                res.v[i + j + <span class="number">1</span>] += res.v[i + j] / BASE;</div><div class="line">                res.v[i + j] %= BASE;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        res.removePreZero();</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    BigInt <span class="keyword">operator</span>/(<span class="keyword">const</span> BigInt &amp;a) <span class="keyword">const</span> &#123;</div><div class="line">        BigInt res, ret(<span class="number">0</span>);</div><div class="line"></div><div class="line">        res.v.resize(v.size(), <span class="number">0</span>);</div><div class="line">        ret = <span class="number">0</span>;</div><div class="line"></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = v.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</div><div class="line">            ret = ret * <span class="number">10</span> + v[i];</div><div class="line"></div><div class="line">            <span class="keyword">while</span> (ret &gt;= a) &#123;</div><div class="line">                ret = ret - a;</div><div class="line">                res.v[i]++;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        res.removePreZero();</div><div class="line">        <span class="keyword">return</span> res;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">istream&amp; <span class="keyword">operator</span>&gt;&gt;(istream &amp;in, BigInt &amp;x) &#123;</div><div class="line">    <span class="built_in">string</span> str;</div><div class="line">    in &gt;&gt; str;</div><div class="line"></div><div class="line">    x = BigInt(str);</div><div class="line"></div><div class="line">    <span class="keyword">return</span> in;</div><div class="line">&#125;</div><div class="line"></div><div class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream &amp;out, <span class="keyword">const</span> BigInt &amp;x) &#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = x.v.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</div><div class="line">        <span class="built_in">cout</span> &lt;&lt; x.v[i];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> out;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    n = readIn&lt;<span class="keyword">int</span>&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; ++i) q[i].a = readIn&lt;<span class="keyword">int</span>&gt;(), q[i].b = readIn&lt;<span class="keyword">int</span>&gt;();</div><div class="line">    sort(q + <span class="number">1</span>, q + n + <span class="number">1</span>);</div><div class="line"></div><div class="line">    BigInt ans = <span class="number">0</span>, sum = <span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) sum = sum * q[i].a;</div><div class="line"></div><div class="line">    ans = sum / q[n].b;</div><div class="line">    ans = ans &lt;= <span class="number">1</span> ? <span class="number">1</span> : ans;</div><div class="line"></div><div class="line">    <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="开车旅行"><a href="#开车旅行" class="headerlink" title="开车旅行"></a>开车旅行</h2><h3 id="描述-2"><a href="#描述-2" class="headerlink" title="描述"></a>描述</h3><p>小 A 和小 B 决定利用假期外出旅行，他们将想去的城市从 $1$ 到 $N$ 编号，且编号较小的城市在编号较大的城市的西边，已知各个城市的海拔高度互不相同，记城市 $i$ 的海拔高度为 $H_{i}$ ，城市 $i$ 和城市 $j$ 之间的距离 $d[i,j]$ 恰好是这两个城市海拔高度之差的绝对值，即 $d[i, j] = \left |H_{i} − H_{j} \right |$。<br>旅行过程中，小 A 和小 B 轮流开车，第一天小 A 开车，之后每天轮换一次。他们计划选择一个城市 $S$ 作为起点，一直向东行驶，并且最多行驶 $X$ 公里就结束旅行。小 A 和小 B 的驾驶风格不同，小 B 总是沿着前进方向选择一个最近的城市作为目的地，而小 A 总是沿着前进方向选择第二近的城市作为目的地（注意：本题中如果当前城市到两个城市的距离相同，则认为离海拔低的那个城市更近）。如果其中任何一人无法按照自己的原则选择目的城市，或者到达目的地会使行驶的总距离超出 $X$ 公里，他们就会结束旅行。<br>在启程之前，小 A 想知道两个问题：</p>
<ul>
<li>对于一个给定的 $X=X_{0}$ ，从哪一个城市出发，小 A 开车行驶的路程总数与小 B 行驶的路程总数的比值最小（如果小 B 的行驶路程为 $0$ ，此时的比值可视为无穷大，且两个无穷大视为相等）。如果从多个城市出发，小 A 开车行驶的路程总数与小 B 行驶的路程总数的比值都最小，则输出海拔最高的那个城市。</li>
<li>对任意给定的 $X=X_{i}$ 和出发城市 $S_{i}$  ，小 A 开车行驶的路程总数以及小 B 行驶的路程总数。</li>
</ul>
<p>$1≤N≤100000,1≤M≤10000,-1000000000≤H_{i} ≤1000000000,0≤X_{0}≤1000000000,1≤S_{i} ≤N,0≤X_{i} ≤1000000000$ ，数据保证 $H_{i}$ 互不相同</p>
<h3 id="分析-2"><a href="#分析-2" class="headerlink" title="分析"></a>分析</h3><p>题目描述很恶心，但是出题人的部分分还是给的比较良心的，首先 $\Theta(n^{2})$ 预处理从每个点出发的最小值和次小值和到达的点，然后第一问枚举每一个点模拟，第二问一样模拟，这样可以拿到 70 分。时间复杂度约为 $\Theta(n^{2} + n^{2} + nm)$ 。</p>
<p>考虑正解。</p>
<p>$\Theta(n^{2})$ 预处理的代价太大了，考虑降低时间复杂度。因为这里我们只需要求出每一个点与后面的点中的距离最小值与次小值，所以要考虑用链表 $\Theta(n)$ 维护每一个点的前驱和后继，然后求出最小值和次小值。当然也可以考虑用平衡树 $\Theta(nlogn)$ 维护前驱和后继，这里可以不用写 Splay 直接用 STL 中的 <code>set</code> 来维护。</p>
<p>同样第一问我们暴力模拟的时间复杂度接近 $\Theta(n^{2})$ 暴力模拟第二问的时间复杂度也接近 $\Theta(nm)$ ，所以考虑优化。</p>
<p>这里应该是一个套路，我们可以像求 <code>LCA</code>  一样，我们用倍增来求，每一轮让 A, B 各跳一次。</p>
<p>$fa[i][j]$ 为从 $i$ 出发跳 $2^{j}$ 轮之后到达的位置。（一轮为 A, B 各跳一次）。</p>
<p>$disA[i][j]$ 为从 $i$ 出发跳 $2^{j}$ 次后走的距离。$disB[i][j]$ 为从 $i$ 出发条 $2^{j}$ 次后走的距离。</p>
<p>用双向链表预处理是我没有想到的，虽然最后还是用 <code>set</code> 水过去的，但是不可否认这道题目的思维含量还是不错的，需要注意许多小细节，免得不小心翻车 qwq</p>
<p>总时间复杂度 $\Theta(2nlogn + mlogn)$ 。真 $\cdot$ 调了一上午qwq</p>
<h3 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h3><p>$70 \%$</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//  Created by ZJYelizaveta on Monday, October 30, 2017 AM09:06:03 CST</span></div><div class="line"><span class="comment">//  Copyright (c) 2017年 ZJYelizaveta. All rights reserved.</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</div><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="function">T <span class="title">readIn</span><span class="params">()</span> </span>&#123;</div><div class="line">    T x(0), f(1);</div><div class="line">    <span class="keyword">char</span> ch = getchar();</div><div class="line">    <span class="keyword">while</span> (ch &lt; <span class="string">'0'</span> || ch &gt; <span class="string">'9'</span>) &#123;<span class="keyword">if</span> (ch == <span class="string">'-'</span>) f = <span class="number">-1</span>; ch = getchar();&#125;</div><div class="line">    <span class="keyword">while</span> (ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>) &#123;x = x * <span class="number">10</span> + ch - <span class="string">'0'</span>; ch = getchar();&#125;</div><div class="line">    <span class="keyword">return</span> x * f;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">1000</span> + <span class="number">3</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_M = <span class="number">10000</span> + <span class="number">3</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = INT_MAX;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> inf = <span class="number">0x7fffffff</span>;</div><div class="line"><span class="keyword">int</span> n, m;</div><div class="line"><span class="keyword">int</span> h[MAX_N];</div><div class="line"><span class="keyword">int</span> X0;</div><div class="line"><span class="keyword">int</span> s[MAX_M], x[MAX_M];</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></div><div class="line">    <span class="keyword">int</span> to, dist;</div><div class="line">&#125;a[MAX_N], b[MAX_N];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">prepare</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) a[i].dist = b[i].dist = INF;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) a[i].to = b[i].to = <span class="number">0</span>;</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt;= n; ++j) &#123;</div><div class="line">            <span class="keyword">int</span> temp = <span class="built_in">abs</span>(h[i] - h[j]);</div><div class="line">            <span class="keyword">if</span> (!b[i].to || temp &lt; b[i].dist || (temp == b[i].dist &amp;&amp; h[j] &lt; h[b[i].to])) &#123;</div><div class="line">                a[i] = b[i];</div><div class="line">                b[i].to = j; b[i].dist = temp;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (!a[i].to || temp &lt; a[i].dist || (temp == a[i].dist &amp;&amp; h[j] &lt; h[a[i].to])) &#123;</div><div class="line">                a[i].to = j; a[i].dist = temp;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    for (int i = 1; i &lt;= n; ++i) &#123;</span></div><div class="line"><span class="comment">        printf("%d %d\n", a[i].to, a[i].dist);</span></div><div class="line"><span class="comment">        printf("%d %d\n", b[i].to, b[i].dist);</span></div><div class="line"><span class="comment">        printf("\n");</span></div><div class="line"><span class="comment">    &#125;</span></div><div class="line"><span class="comment">*/</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">solve1</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> X = X0, res = <span class="number">1</span>;</div><div class="line">    <span class="keyword">double</span> ans = inf, temp;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</div><div class="line">        <span class="keyword">int</span> dist = <span class="number">0</span>, op = <span class="number">0</span>, pos = i, sumA = <span class="number">0</span>, sumB = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span> (<span class="number">1</span>) &#123;</div><div class="line">            <span class="keyword">if</span> (op == <span class="number">0</span>) &#123;  <span class="comment">//  A drive the car</span></div><div class="line">                <span class="keyword">if</span> (dist + a[pos].dist &gt; X || a[pos].to == <span class="number">0</span>) <span class="keyword">break</span>;</div><div class="line">                dist += a[pos].dist;</div><div class="line">                sumA += a[pos].dist;</div><div class="line">                pos = a[pos].to;</div><div class="line"></div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">if</span> (dist + b[pos].dist &gt; X || b[pos].to == <span class="number">0</span>) <span class="keyword">break</span>;</div><div class="line">                dist += b[pos].dist;</div><div class="line">                sumB += b[pos].dist;</div><div class="line">                pos = b[pos].to;</div><div class="line">            &#125;</div><div class="line">            op ^= <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (sumB == <span class="number">0</span>) temp = inf;</div><div class="line">        <span class="keyword">else</span> temp = (<span class="keyword">double</span>)sumA / (<span class="keyword">double</span>)sumB;</div><div class="line">        <span class="keyword">if</span> (temp &lt; ans || (temp == ans &amp;&amp; h[i] &gt; h[res])) &#123;</div><div class="line">            ans = temp;</div><div class="line">            res = i;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"><span class="comment">//  printf("%.3f\n", ans);</span></div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, res);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">solve2</span><span class="params">(<span class="keyword">int</span> pos, <span class="keyword">int</span> X)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> dist = <span class="number">0</span>, op = <span class="number">0</span>, sumA = <span class="number">0</span>, sumB = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">if</span> (op == <span class="number">0</span>) &#123;  <span class="comment">//  A drive the car</span></div><div class="line">            <span class="keyword">if</span> (dist + a[pos].dist &gt; X || a[pos].to == <span class="number">0</span>) <span class="keyword">break</span>;</div><div class="line">            dist += a[pos].dist;</div><div class="line">            sumA += a[pos].dist;</div><div class="line">            pos = a[pos].to;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">if</span> (dist + b[pos].dist &gt; X || b[pos].to == <span class="number">0</span>) <span class="keyword">break</span>;</div><div class="line">            dist += b[pos].dist;</div><div class="line">            sumB += b[pos].dist;</div><div class="line">            pos = b[pos].to;</div><div class="line">        &#125;</div><div class="line">        op ^= <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, sumA, sumB);</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    n = readIn&lt;<span class="keyword">int</span>&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) h[i] = readIn&lt;<span class="keyword">int</span>&gt;();</div><div class="line"><span class="comment">//  for (int i = 1; i &lt;= n; ++i) printf("%d ", h[i]); printf("\n");</span></div><div class="line"></div><div class="line">    X0 = readIn&lt;<span class="keyword">int</span>&gt;(), m = readIn&lt;<span class="keyword">int</span>&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) s[i] = readIn&lt;<span class="keyword">int</span>&gt;(), x[i] = readIn&lt;<span class="keyword">int</span>&gt;();</div><div class="line"></div><div class="line">    prepare();</div><div class="line">    solve1();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) &#123;</div><div class="line">        solve2(s[i], x[i]);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>$100 \%$</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</div><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="function">T <span class="title">readIn</span><span class="params">()</span> </span>&#123;</div><div class="line">    T x(0), fa(1);</div><div class="line">    <span class="keyword">char</span> ch = getchar();</div><div class="line">    <span class="keyword">while</span> (ch &lt; <span class="string">'0'</span> || ch &gt; <span class="string">'9'</span>) &#123;<span class="keyword">if</span> (ch == <span class="string">'-'</span>) fa = <span class="number">-1</span>; ch = getchar();&#125;</div><div class="line">    <span class="keyword">while</span> (ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>) &#123;x = x * <span class="number">10</span> + ch - <span class="string">'0'</span>; ch = getchar();&#125;</div><div class="line">    <span class="keyword">return</span> x * fa;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">1000000</span> + <span class="number">3</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_LOG_N = <span class="number">17</span> + <span class="number">3</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = INT_MAX;</div><div class="line"><span class="keyword">const</span> ll INFLL = <span class="number">0x3f3f3f3f3f3f3f3f</span>ll;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> inf = <span class="number">0x7fffffff</span>;</div><div class="line"><span class="keyword">int</span> n, m;</div><div class="line"><span class="keyword">int</span> X0;</div><div class="line"><span class="keyword">int</span> S[MAX_N], X[MAX_N];</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">City</span> &#123;</span></div><div class="line">    <span class="keyword">int</span> high, pos;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> City &amp;rhs) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="keyword">return</span> high &lt; rhs.high;</div><div class="line">    &#125;</div><div class="line">&#125;a[MAX_N];</div><div class="line"><span class="built_in">set</span> &lt;City&gt; s;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">temp</span> &#123;</span></div><div class="line">    <span class="keyword">int</span> pos, diff;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> temp &amp;rhs) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="keyword">if</span> (diff != rhs.diff) <span class="keyword">return</span> diff &lt; rhs.diff;</div><div class="line">        <span class="keyword">return</span> a[pos].high &lt; a[rhs.pos].high;</div><div class="line">    &#125;</div><div class="line">&#125;q[<span class="number">5</span>];</div><div class="line"><span class="keyword">int</span> nextA[MAX_N], nextB[MAX_N], fa[MAX_N][MAX_LOG_N];</div><div class="line"><span class="keyword">long</span> <span class="keyword">long</span> disA[MAX_N][MAX_LOG_N], disB[MAX_N][MAX_LOG_N];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</div><div class="line">    <span class="built_in">set</span>&lt;City&gt;::iterator it = s.find(a[i]);</div><div class="line"></div><div class="line">    <span class="keyword">int</span> add = <span class="number">0</span>;</div><div class="line">    <span class="keyword">if</span> (it != s.begin()) &#123;</div><div class="line">        --it;</div><div class="line">        q[++add] = (temp)&#123;it -&gt; pos, <span class="built_in">abs</span>(it -&gt; high - a[i].high)&#125;;</div><div class="line">        <span class="keyword">if</span> (it != s.begin()) &#123;</div><div class="line">            --it;</div><div class="line">            q[++add] = (temp)&#123;it -&gt; pos, <span class="built_in">abs</span>(it -&gt; high - a[i].high)&#125;;</div><div class="line">            ++it;</div><div class="line">        &#125;</div><div class="line">        ++it;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> ((++it) != s.end()) &#123;</div><div class="line">        q[++add] = (temp)&#123;it -&gt; pos, <span class="built_in">abs</span>(it -&gt; high - a[i].high)&#125;;</div><div class="line">        <span class="keyword">if</span> ((++it) != s.end()) &#123;</div><div class="line">            q[++add] = (temp)&#123;it -&gt; pos, <span class="built_in">abs</span>(it -&gt; high - a[i].high)&#125;;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    sort(q + <span class="number">1</span>, q + add + <span class="number">1</span>);</div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    printf("\n");</span></div><div class="line"><span class="comment">    for (int j = 1; j &lt;= add; ++j) printf("%d %d\n", q[j].pos, q[j].diff);</span></div><div class="line"><span class="comment">*/</span></div><div class="line">    nextB[i] = q[<span class="number">1</span>].pos;</div><div class="line">    <span class="keyword">if</span> (add == <span class="number">1</span>) <span class="keyword">return</span>;</div><div class="line">    nextA[i] = q[<span class="number">2</span>].pos;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">prepare</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n; i &gt;= <span class="number">1</span>; --i) &#123;</div><div class="line">        s.insert(a[i]);</div><div class="line">        <span class="keyword">if</span> (i ^ n) find(i);  <span class="comment">//  i ^ n means when i = 1 ~ n - 1 we can find the minDis and second minDis;</span></div><div class="line">    &#125;</div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    printf("\n");</span></div><div class="line"><span class="comment">    for (int i = 1; i &lt;= n; ++i) printf("%d %d\n", nextA[i], nextB[i]);</span></div><div class="line"><span class="comment">    printf("\n");</span></div><div class="line"><span class="comment">*/</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++ i) &#123;</div><div class="line">        <span class="keyword">int</span> pos1 = nextA[i], pos2 = nextB[nextA[i]];</div><div class="line">        fa[i][<span class="number">0</span>] = pos2;  <span class="comment">//</span></div><div class="line">        disA[i][<span class="number">0</span>] = pos1 ? <span class="built_in">abs</span>(a[pos1].high - a[i].high) : <span class="number">0</span>;</div><div class="line">        disB[i][<span class="number">0</span>] = pos2 ? <span class="built_in">abs</span>(a[pos2].high - a[pos1].high) : <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; MAX_LOG_N; ++ j) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++ i) &#123;</div><div class="line">            fa[i][j] = fa[fa[i][j - <span class="number">1</span>]][j - <span class="number">1</span>];  <span class="comment">//</span></div><div class="line">            disA[i][j] = disA[i][j - <span class="number">1</span>] + disA[fa[i][j - <span class="number">1</span>]][j - <span class="number">1</span>];</div><div class="line">            disB[i][j] = disB[i][j - <span class="number">1</span>] + disB[fa[i][j - <span class="number">1</span>]][j - <span class="number">1</span>]; <span class="comment">//         printf("%d %lld %lld\n", fa[i][j], disA[i][j], disB[i][j]);</span></div><div class="line">        &#125;</div><div class="line"><span class="comment">//        printf("\n");</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> lim, <span class="keyword">long</span> <span class="keyword">long</span> &amp;sumA, <span class="keyword">long</span> <span class="keyword">long</span> &amp;sumB)</span> </span>&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">19</span>; ~i; -- i) <span class="keyword">if</span> (fa[x][i] &amp;&amp; disA[x][i] + disB[x][i] &lt;= lim) &#123;</div><div class="line">        sumA += disA[x][i]; sumB += disB[x][i];</div><div class="line">        lim -= disA[x][i] + disB[x][i]; x = fa[x][i];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> posA = nextA[x]; <span class="keyword">if</span> (!posA) <span class="keyword">return</span>;</div><div class="line">    <span class="keyword">int</span> dis = <span class="built_in">abs</span>(a[posA].high - a[x].high); <span class="keyword">if</span> (dis &lt;= lim) sumA += dis;   <span class="comment">//</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">solve1</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> pos = <span class="number">0</span>;</div><div class="line">    <span class="keyword">long</span> <span class="keyword">long</span> ansA = <span class="number">1e15</span>, ansB = <span class="number">0l</span>l;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++ i) &#123;</div><div class="line">        <span class="keyword">long</span> <span class="keyword">long</span> sumA = <span class="number">0l</span>l, sumB = <span class="number">0l</span>l; query(i, X0, sumA, sumB);</div><div class="line">        <span class="keyword">if</span> (sumB &amp;&amp; (!pos || ansA * sumB &gt; ansB * sumA)) &#123;</div><div class="line">            ansA = sumA; ansB = sumB;</div><div class="line">            pos = i;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, pos);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    n = readIn&lt;<span class="keyword">int</span>&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++ i) &#123;</div><div class="line">        a[i].high = readIn&lt;<span class="keyword">int</span>&gt;(), a[i].pos = i;</div><div class="line">    &#125;</div><div class="line">    X0 = readIn&lt;<span class="keyword">int</span>&gt;(), m = readIn&lt;<span class="keyword">int</span>&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) S[i] = readIn&lt;<span class="keyword">int</span>&gt;(), X[i] = readIn&lt;<span class="keyword">int</span>&gt;();</div><div class="line"></div><div class="line">    prepare();</div><div class="line">    solve1();</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) &#123;</div><div class="line">        ll sumA = <span class="number">0l</span>l, sumB = <span class="number">0l</span>l;</div><div class="line">        query(S[i], X[i], sumA, sumB);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%lld %lld\n"</span>, sumA, sumB);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Day-2"><a href="#Day-2" class="headerlink" title="Day 2"></a>Day 2</h1><h2 id="同余方程"><a href="#同余方程" class="headerlink" title="同余方程"></a>同余方程</h2><h3 id="描述-3"><a href="#描述-3" class="headerlink" title="描述"></a>描述</h3><p>关于 $x$ 的同余方程 $ax \equiv 1 \pmod b$ 的最小正整数解。</p>
<p>$2 \leq a, b, \leq 2 \times 10^{9}$</p>
<h3 id="分析-3"><a href="#分析-3" class="headerlink" title="分析"></a>分析</h3><p>求 $ax \equiv 1 \pmod b$ 的最小正整数解，不妨将式子变一下形：</p>
<script type="math/tex; mode=display">
\because ax \equiv 1 \pmod b \\
\therefore ax = by + 1\\
\therefore ax - by = 1</script><p>那么我们需要求得就是满足 $ax - by = 1$ 最小的 $x$ 的值。</p>
<p>这里我们用到扩展欧几里德来求解，稍微回忆一下 exgcd 吧！</p>
<p>求满足 $ax + by = gcd(a, b)$ 的一组解 $x, y$ 。</p>
<p>因为在欧几里得定理中 $b \neq 0 \Rightarrow gcd(a, b) = gcd(b, a \pmod b)$</p>
<p>又因为 $bx’ + (a \pmod b)y’ = gcd(b, a \pmod b)$</p>
<p>所以 $ax + by = bx’ + (a \pmod b)y’ = bx’ + (a - b \left \lfloor \frac{a}{b} \right \rfloor )y’$</p>
<p>将式子变形：</p>
<p>$ax + by = ay’ + b(x’ - \left \lfloor \frac{a}{b} \right \rfloor y’)$</p>
<p>很明显有一组通解： $x = y’, y = x’ - \left \lfloor \frac{a}{b} \right \rfloor y’ $</p>
<p>然后我们可以递归求得 $x, y$ ，注意：当 $b = 0$ 时， $x = 1, y = 0$ 。</p>
<p>其实当 $gcd \nmid 1$ ，方程此时无解，但是这里保证方程有解就不用判断这种情况了。</p>
<p>我们用 exgcd 求出的解并不一定是最小解，所以输出的时候要对 $b$ 取模。如果出现负数解，先加一个 $b$，再对 $b$ 取模即可。</p>
<h3 id="代码-3"><a href="#代码-3" class="headerlink" title="代码"></a>代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//  Created by ZJYelizaveta on Wednesday, October 25, 2017 PM12:10:00 CST</span></div><div class="line"><span class="comment">//  Copyright (c) 2017年 ZJYelizaveta. All rights reserved.</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</div><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="function">T <span class="title">readIn</span><span class="params">()</span> </span>&#123;</div><div class="line">    T x(0), f(1);</div><div class="line">    <span class="keyword">char</span> ch = getchar();</div><div class="line">    <span class="keyword">while</span> (ch &lt; <span class="string">'0'</span> || ch &gt; <span class="string">'9'</span>) &#123;<span class="keyword">if</span> (ch == <span class="string">'-'</span>) f = <span class="number">-1</span>; ch = getchar();&#125;</div><div class="line">    <span class="keyword">while</span> (ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>) &#123;x = x * <span class="number">10</span> + ch - <span class="string">'0'</span>; ch = getchar();&#125;</div><div class="line">    <span class="keyword">return</span> x * f;</div><div class="line">&#125;</div><div class="line">ll a, b;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">exgcd</span><span class="params">(ll a, ll b, ll &amp;x, ll &amp;y)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>) &#123;x = <span class="number">1</span>, y = <span class="number">0</span>;&#125;</div><div class="line">    <span class="keyword">else</span> &#123;</div><div class="line">        exgcd(b, a % b, y, x);</div><div class="line">        y -= (a / b) * x;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    a = readIn&lt;ll&gt;(), b = readIn&lt;ll&gt;();</div><div class="line"></div><div class="line">    ll x = <span class="number">0</span>, y = <span class="number">0</span>;</div><div class="line">    exgcd(a, b, x, y);</div><div class="line"></div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, (x + b) % b);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="借教室"><a href="#借教室" class="headerlink" title="借教室"></a>借教室</h2><h3 id="描述-4"><a href="#描述-4" class="headerlink" title="描述"></a>描述</h3><p>在大学期间，经常需要租借教室。大到院系举办活动，小到学习小组自习讨论，都需要向学校申请借教室。教室的大小功能不同，借教室人的身份不同，借教室的手续也不一样。<br>面对海量租借教室的信息，我们自然希望编程解决这个问题。<br>我们需要处理接下来 $n$ 天的借教室信息，其中第 $i$ 天学校有 $r_{i}$ 个教室可供租借。共有 $m$ 份订单，每份订单用三个正整数描述，分别为 $d_{j} , s_{j} , t_{j}$  ，表示某租借者需要从第 $s_{j}$ 天到第 $t_{j}$ 天租借教室（包括第 $s_{j}$ 天和第 $t_{j}$ 天），每天需要租借 $d_{j}$ 个教室。<br>我们假定，租借者对教室的大小、地点没有要求。即对于每份订单，我们只需要每天提供$d_{j}$ 个教室，而它们具体是哪些教室，每天是否是相同的教室则不用考虑。<br>借教室的原则是<strong>先到先得</strong>，也就是说我们要按照订单的先后顺序依次为每份订单分配教室。如果在分配的过程中遇到一份订单无法完全满足，则需要停止教室的分配，通知当前申请人修改订单。这里的无法满足指<strong>从第 $s_{j}$ 天到第 $t_{j}$ 天中有至少一天剩余的教室数量不足 $d_{j}$ 个</strong>。<br>现在我们需要知道，是否会有订单无法完全满足。如果有，需要通知哪一个申请人修改订单。</p>
<p>$1 \leq n, m \leq 10^{6} , 0 \leq r_{i} , d_{j} \leq 10^{9} , 1 \leq s_{j} \leq t_{j} \leq n$</p>
<h3 id="分析-4"><a href="#分析-4" class="headerlink" title="分析"></a>分析</h3><p>暴力模拟 40 分。</p>
<p>很明显的区间修改和区间查询，开始准备 树状数组 + 差分 来解决，结果发现最差的时间复杂度为 $\Theta(mnlogn)$ ，不会进一步优化，遂放弃以这种思路刚正解。</p>
<p>换一个思路吧！“借教室的原则是<strong>先到先得</strong>” 也就是说， $m$ 个人借教室这个序列是有序的，有序的我们就可以二分来解决。</p>
<p>二分，我们 check 的时间复杂度为 $\Theta(nm)$ ，需要优化。想到前面 NOIP 2011 聪明的质监员，我们可以用前缀和来优化，从而优化掉一个 $n$ ，由 $\Theta(nm) \rightarrow \Theta(m)$ 。</p>
<p>这里我们不只是简单的前缀和优化，因为我们需要支持区间修改和区间 check ，因此我们需要把前缀和差分一下，使得做完前缀和之后每一位表示的是这一天需要借出的教室总数。</p>
<p>具体操作如图所示：</p>
<p><img src="http://oqeu5dc5m.bkt.clouddn.com/NOIP%202015%E2%80%982.png" alt=""></p>
<p><img src="http://oqeu5dc5m.bkt.clouddn.com/NOIP%202015%27s.png" alt=""></p>
<p>总时间复杂度 $\Theta((m + 2n)logm)$ 。</p>
<h3 id="代码-4"><a href="#代码-4" class="headerlink" title="代码"></a>代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//  Created by ZJYelizaveta on Thursday, October 26, 2017 AM11:17:07 CST</span></div><div class="line"><span class="comment">//  Copyright (c) 2017年 ZJYelizaveta. All rights reserved.</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</div><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="function">T <span class="title">readIn</span><span class="params">()</span> </span>&#123;</div><div class="line">    T x(0), f(1);</div><div class="line">    <span class="keyword">char</span> ch = getchar();</div><div class="line">    <span class="keyword">while</span> (ch &lt; <span class="string">'0'</span> || ch &gt; <span class="string">'9'</span>) &#123;<span class="keyword">if</span> (ch == <span class="string">'-'</span>) f = <span class="number">-1</span>; ch = getchar();&#125;</div><div class="line">    <span class="keyword">while</span> (ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>) &#123;x = x * <span class="number">10</span> + ch - <span class="string">'0'</span>; ch = getchar();&#125;</div><div class="line">    <span class="keyword">return</span> x * f;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">1000000</span> + <span class="number">3</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</div><div class="line"><span class="keyword">int</span> n, m;</div><div class="line"><span class="keyword">int</span> r[MAX_N];</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Note</span> &#123;</span></div><div class="line">    <span class="keyword">int</span> d, s, t;</div><div class="line">&#125;a[MAX_N];</div><div class="line"><span class="keyword">int</span> sum[MAX_N];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</div><div class="line">    <span class="built_in">memset</span>(sum, <span class="number">0</span>, <span class="keyword">sizeof</span> sum);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= x; ++i) &#123;</div><div class="line">        sum[a[i].s] += a[i].d; sum[a[i].t + <span class="number">1</span>] -= a[i].d;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"><span class="comment">//  for (int i = 1; i &lt;= n; ++i) printf("%d ", sum[i]); printf("\n");</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) sum[i] += sum[i - <span class="number">1</span>];</div><div class="line"><span class="comment">//  for (int i = 1; i &lt;= n; ++i) printf("%d ", sum[i]); printf("\n");</span></div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) <span class="keyword">if</span> (sum[i] &gt; r[i]) <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> l = <span class="number">1</span>, r = m, ans = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (r - l &gt; <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</div><div class="line"><span class="comment">//      printf("\n%d %d %d\n\n", l, r, mid);</span></div><div class="line">        <span class="keyword">if</span> (check(mid)) r = mid, ans = mid;</div><div class="line">        <span class="keyword">else</span> l = mid + <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (r == m) <span class="built_in">printf</span>(<span class="string">"0\n"</span>);</div><div class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"-1\n%d\n"</span>, ans);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    n = readIn&lt;<span class="keyword">int</span>&gt;(), m = readIn&lt;<span class="keyword">int</span>&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) r[i] = readIn&lt;<span class="keyword">int</span>&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) a[i].d = readIn&lt;<span class="keyword">int</span>&gt;(), a[i].s = readIn&lt;<span class="keyword">int</span>&gt;(), a[i].t = readIn&lt;<span class="keyword">int</span>&gt;();</div><div class="line"></div><div class="line">    solve();</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="疫情控制"><a href="#疫情控制" class="headerlink" title="疫情控制"></a>疫情控制</h2><h3 id="描述-5"><a href="#描述-5" class="headerlink" title="描述"></a>描述</h3><p>H 国有 $n$ 个城市，这 $n$ 个城市用 $n-1$ 条双向道路相互连通构成一棵树，$1$ 号城市是首都，也是树中的根节点。<br>H 国的首都爆发了一种危害性极高的传染病。当局为了控制疫情，不让疫情扩散到边境城市（叶子节点所表示的城市），决定动用军队在一些城市建立检查点，使得从首都到边境城市的每一条路径上都至少有一个检查点，边境城市也可以建立检查点。但特别要注意的是，首都是不能建立检查点的。<br>现在，在 H 国的一些城市中已经驻扎有军队，且一个城市可以驻扎多个军队。一支军队可以在有道路连接的城市间移动，并在除首都以外的任意一个城市建立检查点，且只能在一个城市建立检查点。一支军队经过一条道路从一个城市移动到另一个城市所需要的时间等于道路的长度（单位：小时）。<br>请问最少需要多少个小时才能控制疫情。注意：不同的军队可以同时移动。</p>
<p>$2 \leq m \leq n \leq 50,000,0&lt;w &lt;10^{9}$</p>
<h3 id="分析-5"><a href="#分析-5" class="headerlink" title="分析"></a>分析</h3><p>首先我们有一个贪心的结论：选择的检查点肯定越靠近根越优，因为这样可以尽可能多的覆盖到一些节点。</p>
<p>这样一来我们就要贪心让军队尽可能往根节点走。</p>
<p>又因为 “不同的军队可以同时移动” ，也就是说我们所求的是所有的军队到达相应地点中耗时最长的军队花费的时间，而我们要最小化这个时间。也就是我们要最小化时间的最大值，这是一个二分的套路，所以我们可以每次二分一个人时间 $mid$ 然后 <code>check</code> 一下。</p>
<p>现在问题在于如何以比较优的时间复杂度实现 <code>check</code> 这个函数。</p>
<p>我们让军队往根节点跳，根据套路，可以用倍增来优化。</p>
<p>军队往上跳最后有两种情况：</p>
<ul>
<li>军队到达不了根节点，那么就在这支军队能到达的最靠近的根节点位置的节点上打一个标记。</li>
<li>如果这只军队能够到达根节点，那么记录一下它的编号以及它到达根节点后还可以走的时间 $last_{i}$ 以及这只军队的起始节点所属根节点的哪棵子树 $a_{i}$ 。</li>
</ul>
<p>军队跳完以后，查找所有根节点到其的路径中没有设置检查点的子树（如果一个结点 $u$ 设置了观察节点就意味着节点 $u$ 及其在所有的子树都设立了观察结点）。这个部分我们可以用树形动规求出来。</p>
<p>现在找出了所有没有设立观察节点的子树，但是现在就 <code>check</code> 完了吗，没有呀！我们还有到达根节点后仍然可以移动的军队，现在是这些军队做贡献的时候了。</p>
<p>将记录了的可以到达根节点的军队按照 $last_{i}$ 从大到小排序，将刚刚找出未设立观察点的子树按照子树到根节点的距离从大到小排序。一次处理每一棵子树需要那一支军队来管辖。</p>
<p>这里我们仍然需要运用贪心的思想：这里离根节点距离最远的子树用 $last_{i}$ 最大的来管辖这是一个比较直接的想法。但是若这棵子树 $u$ 原本有一支可以到达根节点但是不够走回军队起始点的军队（即存在根节点的子树 $x$ 中且 $last_{i}$ 最小的结点），那么我们不妨就将这支军队放在结点 $u$ ，这样一来就不用浪费更大的 $last_{i}$ 了。若不存在这样的军队，那么还是用一开始最直接的贪心想法来判断。</p>
<p>NOIP 2012 Day2 居然考了两次二分；两天考了两次倍增预处理？？？</p>
<p>这样一来我们的总时间复杂度为 $\Theta(logn(mlogn))$ 。</p>
<h3 id="代码-5"><a href="#代码-5" class="headerlink" title="代码"></a>代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//  Created by ZJYelizaveta on Tuesday, October 31, 2017 AM08:59:35 CST</span></div><div class="line"><span class="comment">//  Copyright (c) 2017年 ZJYelizaveta. All rights reserved.</span></div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</div><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="function">T <span class="title">readIn</span><span class="params">()</span> </span>&#123;</div><div class="line">    T x(0), f(1);</div><div class="line">    <span class="keyword">char</span> ch = getchar();</div><div class="line">    <span class="keyword">while</span> (ch &lt; <span class="string">'0'</span> || ch &gt; <span class="string">'9'</span>) &#123;<span class="keyword">if</span> (ch == <span class="string">'-'</span>) f = <span class="number">-1</span>; ch = getchar();&#125;</div><div class="line">    <span class="keyword">while</span> (ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>) &#123;x = x * <span class="number">10</span> + ch - <span class="string">'0'</span>; ch = getchar();&#125;</div><div class="line">    <span class="keyword">return</span> x * f;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">50000</span> + <span class="number">3</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = INT_MAX;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_LOG_N = <span class="number">15</span> + <span class="number">3</span>;</div><div class="line"><span class="keyword">const</span> ll INFLL = <span class="number">0x3f3f3f3f3f3f3f3f</span>ll;</div><div class="line"><span class="keyword">int</span> n, m;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span> &#123;</span></div><div class="line">    <span class="keyword">int</span> to, next; ll  w;</div><div class="line">&#125;edge[MAX_N &lt;&lt; <span class="number">1</span>];</div><div class="line"><span class="keyword">int</span> head[MAX_N], cnt = <span class="number">0</span>;</div><div class="line"><span class="keyword">int</span> army[MAX_N];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> from, <span class="keyword">int</span> to, ll w)</span> </span>&#123;</div><div class="line">    edge[++cnt].to = to; edge[cnt].w = w; edge[cnt].next = head[from]; head[from] = cnt;</div><div class="line">    edge[++cnt].to = from; edge[cnt].w = w; edge[cnt].next = head[to]; head[to] = cnt;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> fa[MAX_N][MAX_LOG_N];</div><div class="line">ll dis[MAX_N][MAX_LOG_N];</div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> f, ll w)</span> </span>&#123;</div><div class="line">    fa[u][<span class="number">0</span>] = f; dis[u][<span class="number">0</span>] = w;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = head[u]; i != <span class="number">-1</span>; i = edge[i].next) &#123;</div><div class="line">        <span class="keyword">int</span> v = edge[i].to;</div><div class="line">        <span class="keyword">if</span> (v == f) <span class="keyword">continue</span>;</div><div class="line">        dfs(v, u, edge[i].w);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">prepare</span><span class="params">()</span> </span>&#123;</div><div class="line">    dfs(<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; MAX_LOG_N; ++j) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</div><div class="line">            fa[i][j] = fa[fa[i][j - <span class="number">1</span>]][j - <span class="number">1</span>];</div><div class="line">            dis[i][j] = dis[i][j - <span class="number">1</span>] + dis[fa[i][j - <span class="number">1</span>]][j - <span class="number">1</span>];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    for (int j = 0; j &lt; MAX_LOG_N; ++j) &#123;</span></div><div class="line"><span class="comment">        for (int i = 1; i &lt;= n; ++i) &#123;</span></div><div class="line"><span class="comment">            printf("%d %d %d %lld\n", i, j, fa[i][j], dis[i][j]);</span></div><div class="line"><span class="comment">        &#125;</span></div><div class="line"><span class="comment">        printf("\n");</span></div><div class="line"><span class="comment">    &#125;</span></div><div class="line"><span class="comment">*/</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> vis[MAX_N], used[MAX_N], pos[MAX_N];</div><div class="line">ll restMin[MAX_N];</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Military</span> &#123;</span></div><div class="line">    <span class="keyword">int</span> id; ll rest;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> Military &amp;rhs) <span class="keyword">const</span> &#123;</div><div class="line">        <span class="keyword">return</span> rest &gt; rhs.rest;</div><div class="line">    &#125;</div><div class="line">&#125;a[MAX_N], b[MAX_N];  <span class="comment">//  a -&gt; the military that can reach the root, the tree that cannot be covered</span></div><div class="line"><span class="keyword">int</span> numA, numB;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> f)</span> </span>&#123;  <span class="comment">//  check the tree can be covered or not</span></div><div class="line">    <span class="keyword">bool</span> flag1 = <span class="literal">true</span>, flag2 = <span class="literal">false</span>;</div><div class="line">    <span class="keyword">if</span> (vis[u]) <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = head[u]; i != <span class="number">-1</span>; i = edge[i].next) &#123;</div><div class="line">        <span class="keyword">int</span> v = edge[i].to;</div><div class="line">        <span class="keyword">if</span> (v == f) <span class="keyword">continue</span>;</div><div class="line">        flag2 = <span class="literal">true</span>;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (!find(edge[i].to, u)) &#123;</div><div class="line">            flag1 = <span class="literal">false</span>;</div><div class="line">            <span class="keyword">if</span> (u == <span class="number">1</span>) b[++numB].id = edge[i].to, b[numB].rest = edge[i].w;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (!flag2) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> flag1;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">check</span><span class="params">(ll lim)</span> </span>&#123;</div><div class="line">    numA = <span class="number">0</span>, numB = <span class="number">0</span>;</div><div class="line">    <span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span> vis);</div><div class="line">    <span class="built_in">memset</span>(pos, <span class="number">0</span>, <span class="keyword">sizeof</span> pos);</div><div class="line">    <span class="built_in">memset</span>(used, <span class="number">0</span>, <span class="keyword">sizeof</span> used);</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) &#123;</div><div class="line"><span class="comment">//      printf("%lld\n", lim);</span></div><div class="line">        <span class="keyword">int</span> x = army[i]; ll depth = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = MAX_LOG_N - <span class="number">1</span>; j &gt;= <span class="number">0</span>; --j) &#123;</div><div class="line">            <span class="keyword">if</span> (fa[x][j] &gt; <span class="number">1</span> &amp;&amp; depth + dis[x][j] &lt;= lim) &#123;</div><div class="line">                depth += dis[x][j]; x = fa[x][j];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line"><span class="comment">//      printf("%d %lld %lld\n", fa[x][0], lim - depth - dis[x][0], lim);</span></div><div class="line"></div><div class="line">        <span class="keyword">if</span> (fa[x][<span class="number">0</span>] == <span class="number">1</span> &amp;&amp; depth + dis[x][<span class="number">0</span>] &lt;= lim) &#123;  <span class="comment">//  can reach the root</span></div><div class="line">            a[++numA].id = i; a[numA].rest = lim - depth - dis[x][<span class="number">0</span>];</div><div class="line"><span class="comment">//          printf("%d %lld\n", a[numA].id, a[numA].rest);</span></div><div class="line">            <span class="keyword">if</span> (!pos[x] || a[numA].rest &lt; restMin[x]) &#123;</div><div class="line">                pos[x] = i; restMin[x] = a[numA].rest;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">else</span> vis[x] = <span class="literal">true</span>;  <span class="comment">//  cannot reach the root</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line"><span class="comment">//  for (int i = 1; i &lt;= n; ++i) printf("%d ", vis[i]); printf("\n");</span></div><div class="line"></div><div class="line">    <span class="keyword">if</span> (find(<span class="number">1</span>, <span class="number">0</span>)) <span class="keyword">return</span> <span class="literal">true</span>;  <span class="comment">//  already cover the tree, make r = mid, trie to narrow the range</span></div><div class="line"></div><div class="line">    sort(a + <span class="number">1</span>, a + numA + <span class="number">1</span>);</div><div class="line">    sort(b + <span class="number">1</span>, b + numB + <span class="number">1</span>);</div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    for (int i = 1; i &lt;= numA; ++i) printf("%d %lld\n", a[i].id, a[i].rest);</span></div><div class="line"><span class="comment">    for (int i = 1; i &lt;= numB; ++i) printf("%d %lld\n", b[i].id, b[i].rest);</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="comment">//  printf("%d %d\n", numA, numB);</span></div><div class="line"></div><div class="line">    used[<span class="number">0</span>] = <span class="number">1</span>;</div><div class="line">    <span class="keyword">int</span> cur = <span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= numB; ++i) &#123;</div><div class="line">        <span class="keyword">if</span> (!used[pos[b[i].id]]) &#123;</div><div class="line">            used[pos[b[i].id]] = <span class="number">1</span>; <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">while</span> (cur &lt;= numA &amp;&amp; (used[a[cur].id] || a[cur].rest &lt; b[i].rest)) ++cur;</div><div class="line">        <span class="keyword">if</span> (cur &gt; numA) <span class="keyword">return</span> <span class="literal">false</span>;  <span class="comment">// nothing can cover this tree</span></div><div class="line"></div><div class="line">        used[a[cur].id] = <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</div><div class="line">    ll l = <span class="number">0</span>, r = INF, ans = <span class="number">-1</span>;</div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">    if (check(2)) printf("qwq\n");</span></div><div class="line"><span class="comment">    else printf("Naive\n");</span></div><div class="line"><span class="comment">*/</span></div><div class="line"></div><div class="line">    <span class="keyword">while</span> (l &lt;= r) &#123;</div><div class="line">        ll mid = (l + r) &gt;&gt; <span class="number">1</span>;</div><div class="line"><span class="comment">//      printf("%lld\n", mid);</span></div><div class="line">        <span class="keyword">if</span> (check(mid)) r = mid - <span class="number">1</span>, ans = mid;  <span class="comment">//  return true;</span></div><div class="line">        <span class="keyword">else</span> l = mid + <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ans);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    n = readIn&lt;<span class="keyword">int</span>&gt;();</div><div class="line"></div><div class="line">    <span class="built_in">memset</span>(head, <span class="number">-1</span>, <span class="keyword">sizeof</span> head);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</div><div class="line">        <span class="keyword">int</span> u = readIn&lt;<span class="keyword">int</span>&gt;(), v = readIn&lt;<span class="keyword">int</span>&gt;(); ll  w = readIn&lt;ll&gt;();</div><div class="line">        addEdge(u, v, w);</div><div class="line">    &#125;</div><div class="line">    m = readIn&lt;<span class="keyword">int</span>&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) army[i] = readIn&lt;<span class="keyword">int</span>&gt;();</div><div class="line"></div><div class="line">    prepare();</div><div class="line">    solve();</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://yoursite.com/2017/10/31/NOIP-2012-整理/" data-id="cjad0i4im004798ujnlpnc40f" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2017/11/02/NOIP-2015-整理/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Newer</strong>
            <div class="article-nav-title">
                
                    NOIP 2015 整理
                
            </div>
        </a>
    
    
        <a href="/2017/10/27/BZOJ-1588-HNOI2002-营业额统计/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Older</strong>
            <div class="article-nav-title">BZOJ 1588: [HNOI2002]营业额统计</div>
        </a>
    
</nav>


    
</article>


    
    
        <section id="comments">
	<div id="commentContainer"></div>
</section>
    

</section>
            
                
            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2017 ZJYelizaveta<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        
    
	<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
	<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
	<script>
		var gitment = new Gitment({
			owner: 'ZJYelizaveta',
			repo: 'ZJYelizaveta.github.io',
			oauth: {
				client_id: 'c0a1c9fd8a0a898e24d1',
				client_secret: 'cac4eeb49169f56188b5a93e1824e9e68f396193',
			},
		})
		gitment.render('commentContainer')
	</script>
	



    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>